{"version":3,"sources":["images/logo.svg","images/OkLogin.svg","images/NotLogin.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/Login.js","components/Register.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/InfoTooltip.js","utils/Auth.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","className","src","logo","alt","path","to","user","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","key","link","onCardDelete","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","item","onCardClick","Footer","PopupWithForm","isOpen","noValidate","onSubmit","title","children","type","buttonName","id","onClose","ImagePopup","Login","useState","email","setEmail","password","setPassword","e","preventDefault","onLogin","required","placeholder","onChange","target","value","Register","onSignup","api","options","this","baseUrl","headers","fetch","then","res","ok","json","Promise","reject","status","input","method","body","JSON","stringify","author","job","cardId","authorization","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","pattern","defaultValue","EditAvatarPopup","avaRef","useRef","setAvatar","onUpdateAvatar","current","ref","AddPlacePopup","inputName","inputLink","onUpdatePlace","InfoTooltip","isLoggedIn","emblemOk","emblemNot","BASE_URL","ProtectedRoute","Component","component","loggedIn","App","setLoggedIn","setUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setCards","selectedCard","setSelectedCard","setCurrentUser","history","useHistory","tokenCheck","token","jwt","localStorage","getItem","data","push","closeAllPopups","handleInfoTooltip","all","getUserInfo","getInitialCards","initialCards","catch","err","console","log","Provider","removeItem","deleteCard","newCards","filter","c","deleteLike","putLike","newCard","Auth","setItem","changeAvatar","newData","changeProfileInfo","addNewCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.ad8dc0fb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/OkLogin.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/NotLogin.4072126c.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\nimport { NavLink, Route } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n    return (\r\n        <header className=\"header\">\r\n            <img src={logo} className=\"header__logo\" alt=\"Место\" />\r\n            <nav className=\"header__nav\">\r\n                <Route path=\"/sign-up\">\r\n                    <NavLink to='/sign-in' className=\"header__nav-link\">Войти</NavLink>\r\n                </Route>\r\n                <Route path=\"/sign-in\">\r\n                    <NavLink to='/sign-up' className=\"header__nav-link\">Зарегистрироваться</NavLink>\r\n                </Route>\r\n                <Route path=\"/cards\">\r\n                    <p className=\"header__email-info\">{props.user}</p>\r\n                    <button onClick={props.onSignOut} className=\"header__nav-link\">Выйти</button>\r\n                </Route>\r\n            </nav>\r\n        </header >\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `place__delete ${isOwn ? '' : 'place__delete_hidden'}`\r\n      );\r\n    \r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `place__like ${isLiked ? 'place__like_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        props.onClick(props.card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleCardDelete() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n  \r\n\r\n    return (\r\n        <div className=\"place\" key={props.card._id}>\r\n            <img className=\"place__picture\" alt=\"\" src={props.card.link} onClick={handleClick} />\r\n            <button className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n            <div className=\"place__textarea\">\r\n                <p className=\"place__text\">{props.card.name}</p>\r\n                <div className=\"place__likesform\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                    <p className=\"place__likecount\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext); \r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar-block\">\r\n                    <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Жак-Ив Кусто\" />\r\n                    <button className=\"profile__edit-icon\" onClick={props.onEditAvatar}></button>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__info-grid\">\r\n                        <h2 className=\"profile__title\">{currentUser.name}</h2>\r\n                        <button className=\"edit-button\" onClick={props.onEditProfile}></button>\r\n                    </div>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"add-button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n\r\n            <section className=\"place-list\">\r\n                {props.cards.map(item => <Card key={item._id} card={item} onClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>)}\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main","import React from 'react';\r\n\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react';\r\n\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.isOpen && 'popup_opened'}`}>\r\n            <form className=\"popup__container\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n                <fieldset className=\"popup__user-info\">\r\n                    <h3 className=\"popup__title\">{props.title}</h3>\r\n                    {props.children}\r\n                    <button className=\"popup__button\" type=\"submit\">{props.buttonName}</button>\r\n                </fieldset>\r\n                <button className=\"close-button\" id=\"close-button-avatarform\" type=\"reset\" onClick={props.onClose}></button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react';\r\n\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        <div className={`popup popup_type_${props.name} ${props.card.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__picture-container\">\r\n                <img className=\"popup__full-picture\" alt={props.card.name} src={props.card.link} />\r\n                <p className=\"popup__picture-title\">{props.card.name}</p>\r\n                <button className=\"close-button\" id=\"close-button-picture\" type=\"reset\" onClick={props.onClose}></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        if (!email || !password) {\r\n            return;\r\n        }\r\n        props.onLogin(email, password, setEmail, setPassword);\r\n    }\r\n    return (\r\n        <main className=\"content\">\r\n            <form className=\"login\" onSubmit={handleSubmit}>\r\n                <h3 className=\"popup__title login__title\">Вход</h3>\r\n                <input className=\"popup__item login__item popup__item_el_email\" name=\"userEmail\" id=\"email-input\" type=\"email\" required\r\n                    placeholder=\"Email\" onChange={handleEmailChange} />\r\n                <span className=\"popup__error\" id=\"email-input-error\"></span>\r\n                <input className=\"popup__item login__item popup__item_el_password\" name=\"userPassword\" id=\"password-input\" type=\"password\"\r\n                    required placeholder=\"Пароль\" onChange={handlePasswordChange} />\r\n                <span className=\"popup__error\" id=\"password-input-error\"></span>\r\n                <button className=\"popup__button login__button\" type=\"submit\">Войти</button>\r\n                <Link to='/sign-up' className=\"login__link\">Ещё не зарегистрированы? Регистрация</Link>\r\n            </form>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Login","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register(props) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onSignup(email, password);\r\n    }\r\n    return (\r\n        <main className=\"content\">\r\n            <form className=\"login\" onSubmit={handleSubmit}>\r\n                <h3 className=\"popup__title login__title\">Регистрация</h3>\r\n                <input className=\"popup__item login__item popup__item_el_email\" name=\"userEmail\" id=\"email-input\" type=\"email\" required\r\n                    placeholder=\"Email\" onChange={handleEmailChange} />\r\n                <span className=\"popup__error\" id=\"email-input-error\"></span>\r\n                <input className=\"popup__item login__item popup__item_el_password\" name=\"userPassword\" id=\"password-input\" type=\"password\"\r\n                    required placeholder=\"Пароль\" onChange={handlePasswordChange} />\r\n                <span className=\"popup__error\" id=\"password-input-error\"></span>\r\n                <button className=\"popup__button login__button\" type=\"submit\">Зарегистрироваться</button>\r\n                <Link to='/sign-in' className=\"login__link\">Уже зарегистрированы? Войти</Link>\r\n            </form>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Register"," class Api{\r\n    constructor(options){\r\n        this.baseUrl = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n\r\n    getUserInfo(){\r\n      return fetch(`${this.baseUrl}/users/me`, {headers: this.headers})\r\n        .then(res => {\r\n          if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n        });\r\n    }\r\n\r\n    getInitialCards(){\r\n       return fetch(`${this.baseUrl}/cards`, {headers: this.headers})\r\n       .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n    changeProfileInfo(input){\r\n      return fetch(`${this.baseUrl}/users/me`,\r\n      {\r\n        method: 'PATCH',\r\n        headers: this.headers,\r\n        body: JSON.stringify({\r\n          name: input.author,\r\n          about: input.job\r\n        })\r\n      }\r\n      )\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n\r\n    addNewCard(input){\r\n      return fetch(`${this.baseUrl}/cards`,\r\n      {\r\n        method: 'POST',\r\n        headers: this.headers,\r\n        body: JSON.stringify({\r\n          name: input.name,\r\n          link: input.link\r\n        })\r\n      }\r\n      )\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n    putLike(cardId){\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`,{method: 'PUT', headers: this.headers})\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n    deleteLike(cardId){\r\n      return fetch(`${this.baseUrl}/cards/likes/${cardId}`,{method: 'DELETE', headers: this.headers})\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n    changeAvatar(input){\r\n      return fetch(`${this.baseUrl}/users/me/avatar`,\r\n      {\r\n        method: 'PATCH',\r\n        headers: this.headers,\r\n        body: JSON.stringify({\r\n          avatar: input.avatar\r\n        })\r\n      }\r\n      )\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n\r\n    deleteCard(cardId){\r\n      return fetch(`${this.baseUrl}/cards/${cardId}`, {method: 'DELETE', headers: this.headers})\r\n       .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n      });\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-12',\r\n  headers: {\r\n      authorization: 'db48a2d9-d58c-40f0-82e6-c72b8d0b86f5',\r\n      'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            author: name,\r\n            job: description\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Редактировать профиль\" name=\"info\" buttonName=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input className=\"popup__item popup__item_el_name\" name=\"author\" id=\"name-input\" type=\"text\" required\r\n                        minLength=\"2\" maxLength=\"40\" pattern=\"[A-Za-zА-ЯЁа-яё -]{1,}\" placeholder=\"Имя\" defaultValue={name} onChange={handleNameChange} />\r\n                    <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n                    <input className=\"popup__item popup__item_el_prof\" name=\"job\" id=\"prof-input\" type=\"text\" required\r\n                        minLength=\"2\" maxLength=\"200\" placeholder=\"Занятие\" defaultValue={description} onChange={handleDescriptionChange} />\r\n                    <span className=\"popup__error\" id=\"prof-input-error\"></span>\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const avaRef = React.useRef();\r\n    const [avatar, setAvatar] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setAvatar(currentUser.avatar);\r\n    }, [currentUser]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n                avatar: avaRef.current.value\r\n            }\r\n        );\r\n    }\r\n\r\n    function handleAvatarChange(e) {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm title=\"Обновить аватар\" name=\"avatar\" buttonName=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input className=\"popup__item popup__item_el_avatar\" name=\"avatar\" id=\"avatar-input\" type=\"url\"\r\n                        placeholder=\"Ссылка на аватар\" required defaultValue={avatar} ref={avaRef} onChange={handleAvatarChange} />\r\n                    <span className=\"popup__error\" id=\"avatar-input-error\"></span>\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const inputName = React.useRef();\r\n    const inputLink = React.useRef();\r\n\r\n    function handleSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdatePlace({\r\n            name: inputName.current.value,\r\n            link: inputLink.current.value\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title=\"Новое место\" name=\"add\" buttonName=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n                        children={\r\n                            <>\r\n                                <input className=\"popup__item popup__item_el_place\" name=\"name\" id=\"place-input\" type=\"text\"\r\n                                    placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" ref={inputName} />\r\n                                <span className=\"popup__error\" id=\"place-input-error\"></span>\r\n                                <input className=\"popup__item popup__item_el_link\" name=\"link\" id=\"url-input\" type=\"url\"\r\n                                    placeholder=\"Ссылка на картинку\" required ref={inputLink} />\r\n                                <span className=\"popup__error\" id=\"url-input-error\"></span>\r\n                            </>\r\n                        }\r\n                    />\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react';\r\nimport emblemOk from '../images/OkLogin.svg';\r\nimport emblemNot from '../images/NotLogin.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup ${props.isOpen && 'popup_opened'}`}>\r\n            <div className=\"popup__container\">\r\n                <div className=\"popup__infotooltip\">\r\n                    <img src={`${props.isLoggedIn ? emblemOk : emblemNot}`} className=\"popup__login_logo\" alt=\"Логин\" />\r\n                    <h3 className=\"popup__infotooltip-text\">{`${props.isLoggedIn ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}`}</h3>\r\n                </div>\r\n                <button className=\"close-button\" id=\"close-button-avatarform\" type=\"reset\" onClick={props.onClose}></button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        });\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ email, password })\r\n    })\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        });\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': `Bearer ${token}`,\r\n        }\r\n    })\r\n        .then(res => res.json())\r\n        .then(data => data)\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport Login from './Login';\nimport Register from './Register';\nimport api from '../utils/Api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport * as Auth from '../utils/Auth';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\n\nfunction App() {\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [user, setUser] = React.useState('');\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n    const [cards, setCards] = React.useState([]);\n    const [selectedCard, setSelectedCard] = React.useState({\n        isOpen: false,\n        link: '',\n        name: ''\n    });\n\n    const [currentUser, setCurrentUser] = React.useState({});\n    const history = useHistory();\n\n    const tokenCheck = () => {\n        const jwt = localStorage.getItem('jwt');\n        if (jwt) {\n            Auth.getContent(jwt).then((res) => {\n                if (res) {\n                    setUser(res.data.email);\n                    setLoggedIn(true);\n                    history.push('/cards');\n                }\n            });\n        }\n    }\n\n    React.useEffect(() => {\n        tokenCheck();\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\n\n\n    React.useEffect(() => {\n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n            .then(([user, initialCards]) => {\n                setCurrentUser(user);\n                setCards([...initialCards]);\n            })\n            .catch(err => console.log(err));\n    }, [])\n\n    function handleCardLike(card) {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        (!isLiked ? api.putLike(card._id) : api.deleteLike(card._id))\n            .then((newCard) => {\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                setCards(newCards);\n            })\n            .catch(err => console.log(err));\n    }\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                const newCards = cards.filter((c) => c._id !== card._id);\n                setCards(newCards);\n            })\n            .catch(err => console.log(err));\n    }\n\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleCardClick(props) {\n        setSelectedCard({\n            isOpen: true,\n            name: props.name,\n            link: props.link\n        });\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setSelectedCard({\n            isOpen: false\n        });\n        setIsInfoTooltipOpen(false);\n    }\n\n\n    function handleUpdateAvatar(data) {\n        api.changeAvatar(data)\n            .then((newData) => {\n                setCurrentUser(newData);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n\n    function handleUpdateUser(data) {\n        api.changeProfileInfo(data)\n            .then((newData) => {\n                setCurrentUser(newData);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n\n    function handleLogin() {\n        setLoggedIn(true);\n    }\n\n    function handleInfoTooltip() {\n        setIsInfoTooltipOpen(true);\n    }\n\n    function signOut() {\n        localStorage.removeItem('jwt');\n        setLoggedIn(false);\n        setUser('');\n        history.push('/sign-in');\n    }\n\n    function logIn(email, password, setEmail, setPassword) {\n        Auth.authorize(email, password)\n            .then(res => {\n                localStorage.setItem('jwt', res.token);\n                setUser(email);\n                setEmail('');\n                setPassword('');\n                handleLogin();\n                history.push('/cards');\n                handleInfoTooltip();\n            })\n            .catch(err => handleInfoTooltip());\n    }\n\n    function signUp(email, password) {\n        Auth.register(email, password).then((res) => {\n            if (res) {\n                history.push('/cards');\n            } else {\n                console.log(\"Что-то пошло не так!\");\n            }\n        })\n        .catch(err => handleInfoTooltip());\n    }\n\n    function handleUpdateCards(data) {\n        api.addNewCard(data)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(`Ошибка: ${err}`);\n            })\n    }\n\n    return (\n        <>\n            <CurrentUserContext.Provider value={currentUser}>\n                <Header onSignOut={signOut} user={user} isLoggedIn={loggedIn} />\n                <Switch>\n                    <ProtectedRoute path=\"/cards\" component={Main} loggedIn={loggedIn}\n                        cards={cards}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onEditAvatar={handleEditAvatarClick}\n                        onCardClick={handleCardClick}\n                        onCardDelete={handleCardDelete}\n                        onCardLike={handleCardLike} />\n                    <Route path=\"/sign-in\">\n                        <Login onLogin={logIn} />\n                    </Route>\n                    <Route path=\"/sign-up\">\n                        <Register onSignup={signUp} />\n                    </Route>\n                    <Route>\n                        {<Redirect to={`/${loggedIn ? 'cards' : 'sign-in'}`} />}\n                    </Route>\n                </Switch>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdatePlace={handleUpdateCards} />\n                <PopupWithForm title=\"Вы уверены?\" name=\"delete\" buttonName=\"Да\" onClose={closeAllPopups} />\n                <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n                <InfoTooltip isLoggedIn={loggedIn} isOpen={isInfoTooltipOpen} onClose={closeAllPopups} />\n                <Footer />\n            </CurrentUserContext.Provider>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <div className=\"page\">\n    <BrowserRouter >\n    <App />\n    </BrowserRouter>\n    </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}